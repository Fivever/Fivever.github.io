---
layout: post
title: 信息的表示与处理
date: 2019-03-05
categories: 计算机系统
tag: 读书笔记
---

* content
{:toc}

## 信息的表示与处理

无符号数编码的定义

	对一个二进制数，第i位乘以2^{i-1}求和

无符号数编码的唯一性

	函数B2U是一个双射

补码编码的定义

	对于一个二进制数，符号位的权值为-2^{w-1}，其余位各乘以2^{i-1}求和

补码编码的唯一性

	函数B2T是一个双射

补码转换为无符号数：

	对于TMin<=x<=TMax，
    T2U=x+2^w   x<0
    T2U=x       x>=0
    
无符号数转换为补码

	对于0<=u<=UMax,
    U2T=u         u<=TMax
    U2T=u-2^w     u>TMax
    
无符号数的零扩展

	在无符号数前添加0，B2U大小不变

补码数的符号扩展

	在补码前添加原补码符号位，B2T大小不变
    
截断无符号数

	若x为w位无符号数，x'为x抛弃前w-k位的k位无符号数，则B2U(x')=B2U(x)%2^k

截断补码数值

	若x为w位补码，x'为x抛弃前w-k位的k位补码，则B2T(x')=U2T(B2U(x)%2^k)

无符号数加法

	对于0<=x,y<2^w,
    x+y=x+y       x+y<2^w
    x+y=x+y-2^w   2^w<x+y<2^{x+y}

检测无符号数加法的溢出

	对在范围0<=x,y<UMax中的x,y, 令s=x+y, 则对计算s，当且仅当s<x或s<y时，发生了溢出

无符号数取反

	对满足0<=x<2^w, 其w位的无符号逆元-x：
    -x=x         x=0
    -x=2^w-x     x>0

补码加法

	对满足-2^w<=x,y<=2^w-1的整数x,y
    x+y=x+y-2^w     x+y>=2^{w-1}             正溢出
    x+y=x+y         -2^{w-1}<=x+y<2^{w-1}    正常
    x+y=x+y+2^w     x+y<-2^{w-1}             负溢出

检测补码加法中的溢出

	对满足TMin<=x,y<=TMax的x,y, 令s=x+y, 当且仅当x>0,y>0, 但s<=0，计算s发生了正溢出，x<0,y<0, 但s>=0, 计算s发生了负溢出

补码的非

	对满足TMin<=x<=TMax的x，其补码的非-x
    -x=TMin   x=TMin
    -x=-x     x>TMin

无符号数乘法

	对满足0<=x,y<=UMax的x,y, x*y=(x*y)%2^w
 
补码乘法

	对满足TMin<=x,y<=TMax的x,y, x*y=U2T((x*y)%2^w)

无符号和补码乘法的位级等价性

	给定长度为w的位向量X,Y，定义整数x=B2T(X), y=B2T(Y), 定义正数x'=B2U(X), y'=B2U(Y),
    则T2B(x*y)=U2B(x'*y')

乘以2的幂

	乘以2^k, 右边添加k个0

与2的幂相乘的无符号乘法

	C变量x和k有无符号数值x和k，且0<=k<w，则C表达式x<<k产生数值x*2^k
    
与2的幂相乘的补码乘法

	C变量x和k有补码值x和无符号数值k，且0<=k<w，则C表达式x<<k产生数值x*2^k
    
除以2的幂的无符号除法

	C变量x和k有无符号数值x和k，且0<=k<w，则C表达式x>>k产生数值x/2^k（向下取整）

除以2的幂的补码除法，向下舍入

	C变量x和k有补码值x和无符号数值k，且0<=k<w，则C表达式x>>k产生数值x/2^k（向下取整）
    
除以2的幂的补码除法，向上舍入

	C变量x和k有补码值x和无符号数值k，且0<=k<w，则C表达式(x+(1<<k)-1)>>k产生数值x/2^k（向下取整）
