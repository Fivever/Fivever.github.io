---
layout: post
title: 霍夫曼编码
date: 2019-04-01
categories: 数据结构
tag: 读书笔记
---

* content
{:toc}

霍夫曼编码（英语：Huffman Coding），又译为哈夫曼编码、赫夫曼编码，是一种用于无损数据压缩的熵编码（权编码）算法。

在计算机数据处理中，霍夫曼编码使用变长编码表对源符号（如文件中的一个字母）进行编码，其中变长编码表是通过一种评估来源符号出现机率的方法得到的，出现机率高的字母使用较短的编码，反之出现机率低的则使用较长的编码，这便使编码之后的字符串的平均长度、期望值降低，从而达到无损压缩数据的目的。

例如，在英文中，e的出现机率最高，而z的出现概率则最低。当利用霍夫曼编码对一篇英文进行压缩时，e极有可能用一个比特来表示，而z则可能花去25个比特（不是26）。用普通的表示方法时，每个英文字母均占用一个字节，即8个比特。二者相比，e使用了一般编码的1/8的长度，z则使用了3倍多。倘若我们能实现对于英文中各个字母出现概率的较准确的估算，就可以大幅度提高无损压缩的比例。

## 霍夫曼树(Huffman Tree)

霍夫曼树又称最优二叉树，是一种带权路径长度最短的二叉树。所谓树的带权路径长度，就是树中所有的叶结点的权值乘上其到根结点的路径长度（若根结点为0层，叶结点到根结点的路径长度为叶结点的层数）。树的路径长度是从树根到每一结点的路径长度之和，记为WPL=（W1*L1+W2*L2+W3*L3+...+Wn*Ln），N个权值Wi（i=1,2,...n）构成一棵有N个叶结点的二叉树，相应的叶结点的路径长度为Li（i=1,2,...n）。可以证明霍夫曼树的WPL是最小的。

- 路径长度 (Path Length)
  - 两个结点之间的路径长度 PL 是连接两结点的路径上的分支数。
  - 树的外部路径长度是各叶结点(外结点)到根结点的路径长度之和 EPL。
  - 树的内部路径长度是各非叶结点(内结点)到根结点的路径长度之和 IPL。
  - 树的路径长度 PL = EPL + IPL
- 带权路径长度(Weighted Path Length, WPL)

        二叉树的带权(外部)路径长度是树的各叶结点所带的权值wi与该结点到根的路径长度li的乘积的和。

- 霍夫曼树
  - 带权路径长度达到最小的二叉树即为霍夫曼树。
  - 在霍夫曼树中，权值大的结点离根最近。

## 霍夫曼算法
1. 由给定的 n 个权值 {w0, w1, w2, …, wn-1}，构造具有 n 棵扩充二叉树的森林 F = {T0, T1, T2, …, Tn-1}，其中每棵扩充二叉树 Ti 只有一个带权值 wi 的根结点, 其左、右子树均为空。    
2. 重复以下步骤, 直到 F 中仅剩下一棵树为止：
    1. 在 F 中选取两棵根结点的权值最小的扩充二叉树,    做为左、右子树构造一棵新的二叉树。置新的二叉树的根结点的权值为其左、右子树上根结点的权值之和。
    2. 在 F 中删去这两棵二叉树。
    3. 把新的二叉树加入F。
