---
layout: post
title: 回溯算法
date: 2019-05-026
categories: 算法训练
tag: 读书笔记
---

* content
{:toc}

## 定义和表示

### 解空间

- 一个特定问题的解空间可以表示为一个n元元组(x_1,x_2,...,x_n)
  1. x_i来自限制条件集合S_i
  2. 解空间的元组的维度由它的定义决定，所以表示方法可以由此分类
  3. 定长元组表示：所有的元组有相同的维度
  4. 变长元组表示：元组有不同的维度
- 解空间：一个包含解的表示的所有枚举的集合
  1. X=\{(x_1,...,x_n\mid x_i\in S_i\}
  2. X=\{X^1,...,X^k\},X^j=\{(x_{j1},...,x_{jk}\}

- 并非所有的x\in X都是真正的解
  1. 可行解：如果x满足所有的限制条件g_i(x)=true(i\in [1..m])
  2. 最优解：如果x最大化或最小化目标函数f_i(x)(i\in [1..k])

- 目标：从解空间中寻找可行解或最优解

### 形式化解空间

- 问题状态：解的子空间的一个点
- 开始状态：对于一个问题状态开始搜索的根
- 解状态：从根到当前状态的路径
- 目标状态：解空间的目标的一点

状态空间可以用一个四元组表示(N,A,S,G)

- N是问题状态的集合
- A是连接状态的弧的集合
- S是包含开始状态的N的非空子集
- G是包含目标状态的N的非空子集
- 我们的目标是搜索从S到G的解状态

### 搜索解空间

- 搜索解等价于反转状态空间树
- 节点在拓展一棵树时有三个状态
  1. 活节点：已经被搜索过的节点，但是他的子节点未被搜索完全
  2. 死节点：一个节点，他的所有子节点被搜索过
  3. 拓展节点：一个他的子节点正在被搜索的活节点
- 搜索策略
  1. 回溯：各种版本的深度优先搜索和一个边界函数
  2. 分支定界：回溯的加强版

## 装载问题
### 问题表示
- 给一个容量为c的船，并且有n个质量为(w_1,...,w_n)的货物待装载。
- 目的：装载尽可能多的货物，并且不使船沉
- 使用定长元组表示x=(x_1,...,x_n)，x_i=1表示第i个货物已装载

### 边界函数
- 假设节点i-1是拓展节点，让cw=\sum_{j=1}^{i-1}x_jw_j为已装载货物的总质量，r=\sum_{j=i}^nw_j为未装载货物的总质量，bestw为目前最优的总装载
  1. Bound1(x_1,...,x_i)=true，如果cw+w_i>c，则杀死节点i
  2. Bound2(x_1,...,x_i)=true，如果cw+r\leqslant bestw，停止拓展节点i

## 0/1背包
### 边界函数
- 假设物品已经按p/w递减排序，k-1个是拓展节点。cp=\sum_{j=1}^{k-1}x_jp_j，是包里物品的价值，rp=\sum_{j=k}^np_j，是剩下物品的价值，bestp=目前的最大价值
- Bound(x)=true，如果cp+rp\leqslant bestp

## 最大团问题
### 问题描述
- 一个子图G'=<V',E'>，是图G=<V,E>的完全子图，当且仅当V'\subset V，并且\forall u\in V',\forall v\in V',(u,v)\in E'\subset E.
- 团：不被其他更大的完全子图包含的完全子图
- 最大团：在图中的最大完全子图
- 独立点集：无边的子图，且无更大的独立点集包含
- 最大独立点集
### 边界函数
- 目标：找到图中的最大团
- 使用定长元组X=x[1..n](x[i]=1如果点i包含在内)表示解空间
- 边界
  1. B(x)=true，如果节点从根到i不能形成完全子图
  2. B(x)=true，如果从根到i的节点数量加上剩余的节点数不超过bestn

## 旅游销售问题
### 问题描述
给一个城市和他们之间距离的列表，计算只访问每一个城市一次并回到初始城市的最短路线
### 边界函数
- 定义x=x[1..n](x_i是第i个节点)表示解空间
- 边界函数
  1. B(i)=true，如果x[i]和x[i-1]之间没有边连接。
  2. B(i)=true，如果从根到x[i]的路线长度大于bestc
